(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{41:function(e,n,t){"use strict";t.r(n);var c=t(1),r=t.n(c),o=t(16),a=t.n(o),u=(t(7),t(3)),l=t(0),i=function(e){return Object(l.jsxs)("form",{onSubmit:e.addContact,children:[Object(l.jsxs)("div",{children:["name: ",Object(l.jsx)("input",{onChange:e.handleNameChange,value:e.newName}),Object(l.jsxs)("div",{children:["number: ",Object(l.jsx)("input",{onChange:e.handleNumberChange,value:e.newNumber})]})]}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{type:"submit",children:"add"})})]})},s=function(e){return console.log(e),void 0===e?null:Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:"Numbers"}),void 0!==e.persons?e.persons.filter((function(n){return console.log(e),n.name.toLowerCase().includes(e.filter.toLowerCase())})).map((function(n){return Object(l.jsxs)("p",{children:[n.name," ",n.number," ",Object(l.jsx)("button",{onClick:function(){return e.handleDelete(n.id)},children:"delete"})]},n.name)})):Object(l.jsx)(l.Fragment,{})]})},j=function(e){return Object(l.jsxs)("div",{children:["filter shown with",Object(l.jsx)("input",{onChange:e.handleFilterChange,value:e.filter})]})},d=t(4),b=t.n(d),h="/api/persons",f=function(){return console.log("Getting data from url:",h),b.a.get(h)},g=function(e){return b.a.post(h,e)},m=function(e){return b.a.delete("".concat(h,"/").concat(e))},O=function(e){var n=e.message;return null===n?null:Object(l.jsx)("div",{className:"add",children:n})},v=function(){var e=Object(c.useState)([]),n=Object(u.a)(e,2),t=n[0],r=n[1],o=Object(c.useState)(null),a=Object(u.a)(o,2),d=a[0],b=a[1];Object(c.useEffect)((function(){f().then((function(e){return r(e.data)}))}),[]);var h=Object(c.useState)(""),v=Object(u.a)(h,2),x=v[0],p=v[1],C=Object(c.useState)(""),w=Object(u.a)(C,2),N=w[0],S=w[1],F=Object(c.useState)(""),E=Object(u.a)(F,2),k=E[0],D=E[1],L=Object(c.useState)([]),P=Object(u.a)(L,2),T=P[0],y=P[1];return Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:"Phonebook"}),Object(l.jsx)(O,{message:d}),Object(l.jsx)(j,{handleFilterChange:function(e){console.log(e.target.value),D(e.target.value),y(t.filter((function(n){return n.name===e.target.value}))),console.log(T)},filter:k}),Object(l.jsx)(i,{addContact:function(e){e.preventDefault();var n={name:x,number:N};g(n).then((function(e){r(t.concat(e.data)),b("Added:  ".concat(n.name,", ").concat(n.number)),setTimeout((function(){b(null)}),5e3)})).catch((function(e){console.log("Error:",e),console.log("Error name:",e.name,", Error message:",e.message)})),p(""),S("")},handleNameChange:function(e){console.log(e.target.value),p(e.target.value)},handleNumberChange:function(e){S(e.target.value)},newName:x,newNumber:N}),"...debug: ",x," ",Object(l.jsx)("br",{}),Object(l.jsx)(s,{persons:t,filter:k,handleDelete:function(e){console.log(e),window.confirm("Sure?")&&m(e).then((function(n){return r(t.filter((function(n){return n.id!==e})))}))}})]})},x=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,42)).then((function(n){var t=n.getCLS,c=n.getFID,r=n.getFCP,o=n.getLCP,a=n.getTTFB;t(e),c(e),r(e),o(e),a(e)}))};a.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(v,{})}),document.getElementById("root")),x()},7:function(e,n,t){}},[[41,1,2]]]);
//# sourceMappingURL=main.9f3475a4.chunk.js.map